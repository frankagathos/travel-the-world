(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(t,e,a){},17:function(t,e,a){},19:function(t,e,a){},21:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),r=a(8),s=a.n(r),l=(a(15),a(2)),c=a(3),i=a(5),u=a(4),h=a(6),m=a(1),d=(a(17),a(19),function(t){function e(){return Object(l.a)(this,e),Object(i.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this.props,e=t.value,a=t.onChange,n=t.onSubmit;return o.a.createElement("form",{onSubmit:n},o.a.createElement("div",null,"Travel the world"),o.a.createElement("span",null,"By country or Region "),o.a.createElement("div",null," ",o.a.createElement("input",{placeholder:"Italy....Asia",type:"text",value:e,onChange:a}),"    "))}}]),e}(o.a.Component)),p=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(i.a)(this,Object(u.a)(e).call(this,t))).handleSubmit=function(t){t.preventDefault()},a.onSearchChange=function(t){a.setState({searchTerm:t.target.value})},a.getNextImage=function(){var t=a.state.photocounter,e=a.state.numberOfPhotos,n=a.state.all_city_urls;e>t?a.setState({city_photo_url:n[t].urls.regular,photocounter:a.state.photocounter+1}):a.setState({city_photo_url:n[0].urls.regular,photocounter:1})},a.getPreviousImage=function(){var t=a.state.photocounter,e=a.state.numberOfPhotos,n=a.state.all_city_urls,o=!0;o?t>1?(a.setState({city_photo_url:n[t-2].urls.regular,photocounter:a.state.photocounter-1}),o=!1):(a.setState({city_photo_url:n[e-1].urls.regular,photocounter:e}),o=!1):a.setState({city_photo_url:n[t-1].urls.regular,photocounter:a.state.photocounter-1})},a.state={searchTerm:"",selectedCountry:"",allCountriesStats:[],isLoading:!1,results_style:"show",country_stats_style:"hide",photocounter:0},a.onSearchChange=a.onSearchChange.bind(Object(m.a)(Object(m.a)(a))),a.onCountryClick=a.onCountryClick.bind(Object(m.a)(Object(m.a)(a))),a.getNextImage=a.getNextImage.bind(Object(m.a)(Object(m.a)(a))),a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.setState({isLoading:!0}),fetch("https://restcountries.eu/rest/v2/all").then(function(t){return t.json()}).then(function(e){t.setState({allCountriesStats:e,isLoading:!1})})}},{key:"onCountryClick",value:function(t){var e=this,a=this.state.allCountriesStats.filter(function(e){return e.alpha3Code===t});this.setState({selectedCountryName:a[0].name,selectedCountryArea:a[0].area,selectedCountryCapital:a[0].capital,selectedCountrySubRegion:a[0].subregion,selectedCountrypopulation:a[0].population,selectedCountryFlag:a[0].flag,results_style:"user-has-chosen",country_stats_style:"show",photocounter:1});var n,o=a[0].name;fetch("https://api.unsplash.com/search/photos?client_id=".concat("8ed09088a4eb4d257e69127e636984bbf65599f0f00bc9a10a35d759d3f2b7d2","&query=").concat(o)).then(function(t){return t.json()}).then(function(t){e.setState({numberOfPhotos:t.results.length,city_photo_url:t.results[0].urls.regular,all_city_urls:t.results})}),n=10,setInterval(function(){for(var t=0;t<n;t++)return console.log(0)},1e3)}},{key:"render",value:function(){var t,e=this;return this.state.isLoading?o.a.createElement("p",null,"Loading...."):o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:this.state.results_style},o.a.createElement(d,{onChange:this.onSearchChange,value:this.state.searchTerm,onSubmit:this.handleSubmit}),o.a.createElement("div",null,this.state.allCountriesStats.filter((t=this.state.searchTerm,function(e){return!t||e.name.toLowerCase().includes(t.toLowerCase())||e.region.toLowerCase().includes(t.toLowerCase())})).map(function(t){return o.a.createElement("div",{className:"country-card",key:t.alpha3Code,onClick:function(){return e.onCountryClick(t.alpha3Code)}},o.a.createElement("div",null," ",t.name," "),o.a.createElement("div",{className:"region"},t.region),o.a.createElement("div",null," ",o.a.createElement("div",{className:"flag-wrapper"},o.a.createElement("img",{src:t.flag,alt:t.flag}))))}))),o.a.createElement("div",{className:this.state.country_stats_style},o.a.createElement("div",{className:"selected-flag"},o.a.createElement("img",{src:this.state.selectedCountryFlag,alt:this.state.selectedCountryName})),this.state.selectedCountryName," cover(s) an area of  ",this.state.selectedCountryArea,"km\xb2.The capital is ",this.state.selectedCountryCapital,".",o.a.createElement("br",null),"It is located in ",this.state.selectedCountrySubRegion," and has a population of ",(this.state.selectedCountrypopulation/1e6).toFixed(4)," million.",o.a.createElement("div",{className:"photo-wrapper"},o.a.createElement("img",{src:this.state.city_photo_url,alt:this.state.selectedCountryName})),o.a.createElement("div",null,this.state.photocounter+"/"+this.state.numberOfPhotos),o.a.createElement("button",{onClick:this.getPreviousImage},"PREVIOUS"),o.a.createElement("button",{onClick:this.getNextImage},"NEXT")))}}]),e}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},9:function(t,e,a){t.exports=a(21)}},[[9,2,1]]]);
//# sourceMappingURL=main.9f46b266.chunk.js.map